# 1 程序概述

模仿Tiantian Liu老师的代码。

模拟弹性悬臂梁

分为两个程序：1. 质点弹簧模拟 2. FEM模拟。 本文档只阐述FEM模拟。



**程序使用**

按空格开始模拟

按鼠标左键可以拖拽

# 2 程序主要模块说明

主要模块包括：

1. 生成网格和初始化
2. 更新质点位置速度

## 2.1 生成网格和初始化

**模块名：**meshing()

**输入：**初始几何点

**作用：**生成网格

**输出：**生成三角形和边。分别存入变量triangles和变量edges。



**模块名：**initialize()

**输入：**初始几何点

**作用：**生成网格

**输出：**生成三角形和边。分别存入变量triangles和变量edges。

# 3 变量说明

**几何参数**

悬臂梁初始位置为最左下角点的位置

init_x, init_y= 0.1, 0.6

节点数量为

N_x=20, N_y=4

N= N_x*N_y = 80

如图

![1](./data/markdownImg/1.png)



边数

N_edges =(N_x-1)N_y + N_x(N_y - 1) + (N_x-1) (N_y-1)

先数横着的，一行为19个，一共4行

再数竖着的，一行为20个，一共3行

最后数斜着的，一行19个，一共3行



三角形数

N_triangles = 2  (N_x-1)  (N_y-1)

先数正方形，一行19个，一共3行

正方形数目乘以2就是三角形数目

**在mass spring中未用到triangles**



**物理参数**

每个质点质量为1 

mass=1

重力加速度9.8	

g=9.8

杨氏模量3e7, 可变

YoungsModulus=3e7



**控制参数**

每帧时间间隔

h=16.7e-3

每帧步数

substepping = 100

时间步长

dh = h/substepping



**物理场**

质点位置x

质点速度场v

弹簧长度场spring_length



**几何场**

三角形场triangles

**在mass spring中未用到triangles**

边场 edges





